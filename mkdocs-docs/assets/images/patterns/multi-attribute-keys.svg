<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 650">
  <defs>
    <style>
      .box { fill: #fff; stroke: #333; stroke-width: 2; }
      .attr { fill: #2196F3; stroke: #1565C0; stroke-width: 2; }
      .separator { fill: #FF9800; stroke: #E65100; stroke-width: 2; }
      .result { fill: #4CAF50; stroke: #2E7D32; stroke-width: 2; }
      .query { fill: #FFF9C4; stroke: #F57C00; stroke-width: 2; }
      .text { font-family: 'Courier New', monospace; font-size: 12px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; }
      .label { font-family: Arial, sans-serif; font-size: 11px; fill: #666; }
      .arrow { fill: none; stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>
  
  <text class="title" x="400" y="35" text-anchor="middle">Multi-Attribute Key Pattern</text>
  <text class="label" x="400" y="60" text-anchor="middle">Combine multiple attributes into a single key for flexible querying</text>
  
  <!-- Attributes -->
  <text class="label" x="400" y="95" text-anchor="middle" font-weight="bold">Input Attributes:</text>
  
  <rect class="attr" x="100" y="110" width="120" height="40" rx="5"/>
  <text class="text" x="160" y="135">TENANT</text>
  
  <rect class="attr" x="240" y="110" width="120" height="40" rx="5"/>
  <text class="text" x="300" y="135">CUSTOMER</text>
  
  <rect class="attr" x="380" y="110" width="120" height="40" rx="5"/>
  <text class="text" x="440" y="135">DEPT</text>
  
  <rect class="attr" x="520" y="110" width="120" height="40" rx="5"/>
  <text class="text" x="580" y="135">PRODUCT</text>
  
  <!-- Arrow down -->
  <path class="arrow" d="M 400 150 L 400 190"/>
  
  <!-- Combination process -->
  <rect class="box" x="200" y="190" width="400" height="60" rx="5" fill="#E3F2FD"/>
  <text class="text" x="400" y="215">multiAttributeKey()</text>
  <text class="label" x="400" y="235">Combines with # separator</text>
  
  <!-- Arrow down -->
  <path class="arrow" d="M 400 250 L 400 290"/>
  
  <!-- Result -->
  <rect class="result" x="150" y="290" width="500" height="50" rx="5"/>
  <text class="text" x="400" y="320" font-size="14">TENANT#acme#CUSTOMER#alice#DEPT#sales#PRODUCT#widget</text>
  
  <!-- Query flexibility -->
  <text class="label" x="400" y="370" text-anchor="middle" font-weight="bold">Query Flexibility:</text>
  
  <!-- Level 1 query -->
  <rect class="query" x="50" y="390" width="700" height="40" rx="5"/>
  <text class="text" x="60" y="405" text-anchor="start" font-size="11">Level 1:</text>
  <text class="text" x="60" y="420" text-anchor="start" font-size="11">beginsWith("TENANT#acme#")</text>
  <text class="label" x="750" y="412" text-anchor="end">→ All items for tenant</text>
  
  <!-- Level 2 query -->
  <rect class="query" x="50" y="440" width="700" height="40" rx="5"/>
  <text class="text" x="60" y="455" text-anchor="start" font-size="11">Level 2:</text>
  <text class="text" x="60" y="470" text-anchor="start" font-size="11">beginsWith("TENANT#acme#CUSTOMER#alice#")</text>
  <text class="label" x="750" y="462" text-anchor="end">→ All items for customer</text>
  
  <!-- Level 3 query -->
  <rect class="query" x="50" y="490" width="700" height="40" rx="5"/>
  <text class="text" x="60" y="505" text-anchor="start" font-size="11">Level 3:</text>
  <text class="text" x="60" y="520" text-anchor="start" font-size="11">beginsWith("TENANT#acme#CUSTOMER#alice#DEPT#sales#")</text>
  <text class="label" x="750" y="512" text-anchor="end">→ All items for dept</text>
  
  <!-- Level 4 query -->
  <rect class="query" x="50" y="540" width="700" height="40" rx="5"/>
  <text class="text" x="60" y="555" text-anchor="start" font-size="11">Level 4:</text>
  <text class="text" x="60" y="570" text-anchor="start" font-size="11">equals("TENANT#acme#CUSTOMER#alice#DEPT#sales#PRODUCT#widget")</text>
  <text class="label" x="750" y="562" text-anchor="end">→ Specific item</text>
  
  <!-- Benefits -->
  <rect x="50" y="600" width="700" height="40" rx="5" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
  <text class="label" x="60" y="620" text-anchor="start" font-weight="bold">Benefits:</text>
  <text class="label" x="60" y="635" text-anchor="start">
    Query at any level of hierarchy without multiple GSIs • Maintain sort order • Efficient range queries
  </text>
</svg>
